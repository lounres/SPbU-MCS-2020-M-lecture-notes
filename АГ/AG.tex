\documentclass[12pt,a4paper]{article}
\usepackage{../.tex/mcs-notes}
\usepackage{todonotes}
\usepackage{multicol}
\usepackage{float}
\usepackage[all]{xy}
\CompileMatrices

\settitle
{Алгебраическая геометрия.}
{Иван Александрович Панин}
{\%D0\%9C\%D0\%B0\%D1\%82\%D0\%90\%D0\%BD/MA.pdf}
\date{}

% \DeclareMathOperator{\Quot}{Quot}
% \DeclareMathOperator*{\osc}{osc}
% \DeclareMathOperator{\sign}{sign}
% \DeclareMathOperator{\const}{const}
% \DeclareMathOperator{\grad}{grad}
% \newcommand{\eqdef}{\mathbin{\stackrel{\mathrm{def}}{=}}}
% \newcommand{\True}{\mathrm{True}}
% \newcommand{\False}{\mathrm{False}}
% \newcommand{\Id}{\mathrm{Id}}
% \renewcommand{\Re}{\mathrm{Re}}
% \renewcommand{\Im}{\mathrm{Im}}
\renewcommand{\mod}{\mathrm{mod}}
\newcommand{\Max}{\mathrm{Max}}
\newcommand{\Ker}{\mathrm{Ker}}
\renewcommand{\AA}{\ensuremath{\mathbb{A}}\xspace}

\begin{document}
    \maketitle

    \listoftodos[TODOs]

    \tableofcontents

    \vspace{2em}
    Литература:
    \begin{itemize}
        \item Хартсхорн, ``Алгебраическая геометрия''.
        \item Атья, Макдональд, ``Введение в коммутативную алгебру''.
    \end{itemize}

    \begin{remark}
        Все кольца ассоциативны, коммутативны и с единицей.
    \end{remark}

    \begin{definition}
        Пусть $I$ --- частично упорядоченное по порядку $\leqslant$ множество, т.е.
        \[a \leqslant b \leqslant c \quad \Longrightarrow \quad a \leqslant c.\]

        ОВУ: всякая последовательности элементов $i_1 \leqslant i_2 \leqslant \dots$ стабилизируется с некоторого момента (т.е. последовательность имеет константный хвост).

        \emph{Наличие минимального элемента}. Для всякого $J \subseteq I$ существует $j_{max} \in J$, что для всякого $j \in J$ имеет место следствие $j_{max} \leqslant j \Rightarrow j = j_{max}$.
    \end{definition}

    \begin{lemma}
        $I$ удовлетворяет ОВУ тогда и только тогда, когда $I$ удовлетворяет наличию минимального элемента.
    \end{lemma}
    
    \begin{proof}
        \begin{itemize}
            \item[$\Rightarrow$)] Предположим, что максимального элемента, т.е. для всякого элемента есть строго больший. Тогда мы можем построить строго возрастающую последовательность, что противоречит ОВУ.
            \item[$\Leftarrow$)] Пусть дана нестрого возрастающая последовательность $(i_m)_{m=1}^\infty$. Тогда применяя свойство наличия максимального элемента для $J := \{i_m\}_{m=1}^\infty$, получаем, что есть $j_M \in J$ (для некоторого $M$), для которого нет строго большего в $J$. Значит после $j_M$ все элементы с ним совпадают. 
        \end{itemize}
    \end{proof}

    \begin{definition}
        Пусть $A$ --- кольцо, а $M$ --- $A$-модуль. Тогда $\mod(A)$ --- множество всех подмодулей в $M$, упорядоченных по включению ($(0), M \in \mod(M)$).

        $M$ \emph{нётеров}, если $\mod(A)$ удовлетворяет ОВУ (или наличию максимального элемента).
    \end{definition}

    \begin{lemma}\ \label{neotherian-modules-lemma}
        \begin{enumerate}
            \item Если $M$ нётеров, то любой подмодуль $N \subseteq M$ конечнопорождён (как $A$-модуль).
            \item Если любой подмодуль $M$ конечнопорождён, то $M$ нётеров.
        \end{enumerate}
    \end{lemma}

    \begin{proof}
        \begin{itemize}
            \item[$1 \Rightarrow 2$)] Пусть $M$ нётеров, $N \subseteq M$ --- подмодуль. Пусть $I$ --- все конечнопорождённые модули в $N$.

                $I$ непуст, так как $(0) \in I$. Следовательно, в $I$ есть максимальный элемент, пусть $N_{max}$. Если $N_{max} = N$, то $N$ конечнопорождён. Если $N_{max} \neq N$, то существует $x \in N \setminus N_{max}$, что $N_{max} \nsubseteq N_{max} + x \cdot A \subseteq N$ --- противоречие.
            
            \item[$2 \Rightarrow 1$)] Пусть имеется последовательность $M_1 \subseteq M_2 \subseteq \dots$ подмодулей $M$. Определим
                \[M_\infty := \bigcup_{m=1}^\infty M_m.\]
                $M_\infty$ тоже подмодуль $M$. Значит $M_\infty$ конечнопорождён. $x_1, \dots, x_n \in M_\infty$, значит есть $n_0$, что $x_1, \dots, x_n \in M_{n_0}$. Следовательно,
                    \[M_{n_0} = M_{n_0 + 1} = M_{n_0 + 2} = \dots\]
        \end{itemize}
    \end{proof}

    \begin{lemma}\label{factor-neotherianity-lemma}
        $M'$ --- подмодуль $M$ и есть сюръективный гомоморфизм $\pi: M \to M/M' = M''$. Тогда $M$ нётеров тогда и только тогда, когда $M'$ и $M''$ нётеровы.
    \end{lemma}

    \begin{proof}
        Пусть $M$ --- нётерово. Покажем, что $M'$ нётерово. Пусть есть цепочка $M'_1 \subseteq M'_2 \subseteq \dots$ подмодулей $M$. $M$ нётерово, значит цепочка стабилизируется, значит $M'$ нётерова.

        Покажем, что $M''$ нётерово. Пусть есть цепочка подмодулей $M''_1 \subseteq M''_2 \subseteq \dots$. Следовательно $[\pi(\pi^{-1}(M''_1) \subseteq \pi^{-1}(M''_2) \subseteq \dots)] \subseteq M$. Значит цепочка стабилизируется. Значит стабилизируется изначальная цепочка, значит $M''$ нётерово.

        Теперь предположим, что $M'$ и $M''$ нётеровы.
        \todo[inline]{Дописать.}
    \end{proof}

    \begin{definition}
        Кольцо $A$ \emph{нётерово}, если как модуль над собой нётерово.
    \end{definition}

    \begin{remark}
        $1$ --- образующая $A$ как $A$-модуля. Всякий идеал $I$ является подмодулем $A$, но может не иметь одного образующего.
    \end{remark}

    \begin{definition}
        \emph{Идеал} $I$ кольца $A$ --- непустое подмножество $A$, что для всяких $a, b \in I$ $a + b \in I$ и для всяких $a \in I$, $k \in A$ $ak \in I$.
    \end{definition}

    \begin{lemma} \label{neotherian-rings-and-finitely-generated-ideals-lemma}
        Пусть дано кольцо $A$. TFAE
        \begin{enumerate}
            \item $A$ нётерово.
            \item Любая цепочка идеалов $I_1 \subseteq I_2 \subseteq \dots$ стабилизируется.
            \item Всякий идеал $I$ конечнопорождён.
        \end{enumerate}
    \end{lemma}

    \begin{proof}
        \begin{itemize}
            \item[$1 \Leftrightarrow 2$)] По определению.
            \item[$1 \Leftrightarrow 3$)] По лемме \ref{neotherian-modules-lemma}.  
        \end{itemize}
    \end{proof}

    \begin{lemma}
        Пусть дано нётерово кольцо $A$. Тогда для всякого $n \geqslant 0$ $A^n$ --- нётеров модуль.
    \end{lemma}

    \begin{proof}
        $(0)$ --- нётеров. $A^1 = A$ --- нётеров. Далее легко провести по индукции, что $A^{n-1}$ нётерово и $A^n / A^{n-1} = A$ нётерово, а тогда $A^n$ нётерово.
    \end{proof}

    \begin{corollary}
        Если $A$ --- нётерово кольцо, то всякий конечнопорождённый $A$-модуль $M$ нётеров.
    \end{corollary}

    \begin{proof}
        Пусть $m_1, \dots, m_r \in M$ --- система порождающих модуля $M$. Тогда имеем сюръективный гомоморфизм $A^r \to M$, порождённый $e_i \mapsto m_i$. Следовательно, по лемме \ref{factor-neotherianity-lemma} из нётеровости $A^r$ следует нётеровость $M$.
    \end{proof}

    \begin{corollary}
        Если $M$ --- конечнопорождённый модуль и $N$ --- подмодуль $M$, то $N$ конечнопорождён. В частности всякий подмодуль $N \subseteq A^r$ конечнопорождён.
    \end{corollary}

    \begin{proof}
        \todo[inline]{Дописать.}
    \end{proof}

    \begin{theorem}[Гильберта]
        Если кольцо $A$ нётерово, то $A[t]$ нётерово.
    \end{theorem}

    \begin{proof}
        Пусть фиксирован некоторый идеал $I$ в $A[t]$. Как только мы покажем, что $I$ конечнопорождён, то применяя лемму \ref{neotherian-rings-and-finitely-generated-ideals-lemma}, получим нётеровость $A[t]$.

        Пусть $\mathcal{A} \subseteq A$ --- множество старших членов многочленов из $I$.

        \begin{thlemma}
            $\mathcal{A}$ --- идеал. И, следовательно, конечнопорождено.
        \end{thlemma}

        \begin{proof}
            Действительно, для всяких $a, b \in \mathcal{A}$ есть многочлены $f_a, f_b \in I$ со старшими коэффициентами $a$ и $b$ соответственно. Следовательно $f_a t^{\deg(f_b)} + f_b t^{\deg(f_a))}$ лежит в $I$ и имеет старший коэффициент $a + b$ (если только $a + b \neq 0$; иначе очевидно). Также если $a \in \mathcal{A}$, а $k \in A$, то есть многочлен $f_a \in I$ с данным старшим коэффициентом. Но тогда $k f_a$ (если $ak \neq 0$; иначе очевидно) лежит в $I$ и имеет старший член $a k$.
        \end{proof}

        Рассмотрим $a_1$, \dots, $a_r$ --- система порождающих $\mathcal{A}$, а $f_1$, \dots, $f_r$ --- многочлены из $I$ с данными старшими коэффициентами.

        Тогда всякий $f \in I$ порождается тогда и только тогда, когда порождается соответствующий ему $g \in I$ степени меньше $n := \max_k \deg(f_k)$, так как иначе с помощью старших членов $f_i$ можно породить старший член $f$, вычесть его из $f$ и тем самым понизить степень. Значит вопрос свёлся к порождаемости многочленов из $I$ степени не выше $n$.

        Заметим, что описанные многочлены образуют модуль $I \cap (A \oplus A t \oplus \dots \oplus A t^{n-1})$ --- подмодуль $A^n$. Значит $I \cap (A \oplus A t \oplus \dots \oplus A t^{n-1})$ конечнопорождён, а отсюда $I$ конечнопорождён.
    \end{proof}

    \begin{lemma}
        Если $B$ --- нётерово кольцо, $C$ --- кольцо, а $\varphi: B \to C$ --- гомоморфизм колец, то $\varphi(B)$ --- нётерово.
    \end{lemma}

    \begin{proof}
        Пусть дана последовательность идеалов $I_1 \subseteq I_2 \subseteq \dots$ в $\varphi(B)$. Тогда $\varphi^{-1}(I_i)$ --- идеалы и
        \[\varphi^{-1}(I_1) \subseteq \varphi^{-1}(I_2) \subseteq \dots.\]
        Значит с какого-то момента эта цепочка стабилизируется, а значит стабилизируется образ этой цепочки по $\varphi$, т.е. изначальная цепочка.
    \end{proof}

    \begin{lemma}
        Если $\psi: A \to C$ --- гомоморфизм колец, такой что $C$ --- конечная $A$-алгебра, порождённая элементами $x_1$, \dots, $x_n$. Тогда $C$ нётеров.
    \end{lemma}

    \begin{proof}
        Мы можем рассмотреть нативное вложение $A$ в $A[t_1, \dots, t_n]$ и гомоморфизм $A$-алгебр $\varphi: A[t_1, \dots, t_n] \to C$, порождённый $\psi$ и соотношениями $\varphi(t_i) = x_i$.
        \[
            \xymatrix{
                A \ar@{_{(}->}[rd] \ar[rr]^{\psi}&& C\\
                & A[t_1, \dots, t_n] \ar@{->>}[ru]_{\varphi}
            }
        \]
        $\varphi$ сюръективен, а $A[t_1, \dots, t_n]$ нётерово. Таким образом $\varphi(B) = C$ нётерово.
    \end{proof}

    \begin{remark}
        Всякое поле нётерово.
    \end{remark}

    \begin{corollary}
        Любая конечнопорождённая $F$-алгебра, где $F$ --- поле, нётерова.
    \end{corollary}

    \begin{remark}
        \begin{itemize}
            \item $\ZZ$ --- нётерово кольцо.
            \item Всякое кольцо является $\ZZ$-кольцом.
            \item Если кольцо $R$ --- конечнопорождённая $\ZZ$-алгебра, то оно нётерово.
        \end{itemize}
    \end{remark}

    \begin{lemma}
        Пусть $A$ --- нётерово кольцо, а $M''$ --- $A$-модуль. Тогда $M$ конечнопорождён тогда и только тогда, когда нётеров.
    \end{lemma}

    \begin{proof}
        Если $M''$ нётеров, то уже доказано, что $M''$ конечнопорождён, так как является собственным подмодулем (см. лемму \todo{Ref}).

        Если $M''$ конечнопорождено, то есть система порождающих $m_1$, \dots, $m_s$. Тогда есть сюръективный гомоморфизм
        \[\varphi: A^s \to M'', e_i \mapsto m_i.\]
        При этом $A^s$ нётеров, значит $M''$ нётеров.
    \end{proof}

    \begin{lemma}\label{horrible-lemma}
        Пусть даны кольца $A \subseteq B \subseteq C$, что $A$ --- нётерово, $C$ --- конечнопорождённый $B$-модуль и конечнопорождённая $A$-алгебра. Тогда $B$ --- конечнопорождённая $A$-алгебра.
    \end{lemma}

    \begin{proof}
        Пусть $y_1$, \dots, $y_n$ --- система порождающих $C$ как $A$-алгебру, а $x_1$, \dots, $x_m$ --- система порождающих $C$ как $B$-модуль. Тогда есть $b_{i, j} \in B$, что
        \[y_i = \sum b_{i, j} x_j,\]
        и $b_{i, j, k} \in B$, что
        \[x_i x_j = \sum b_{i, j, k} x_k.\]
        Пусть $B_0$ --- это $A$-подалгебра в $B$, порождённая всеми $b_{i, j}$ и $b_{i, j, k}$. Заметим, что количество перечисленных порождающих конечно, т.е. $B_0$ --- конечнопорождённая алгебра. Следовательно, $B_0$ нётерова.

        Поймём, что $C$ порождается уже над $B_0$ элементами $x_1$, \dots, $x_n$. Действительно, для всякого $c \in C$ есть $F \in A[t_1, \dots, t_n]$, что $c = F(y_1, \dots, y_n)$. При этом $y_i = \sum b_{i, j} x_j$. Значит
        \[c = G(x_1, \dots, x_m) \in B_0 x_1 + \dots + B_0 x_m,\]
        так как при раскрытии скобок каждый квадратный $x_i x_j$ член заменяется на линейную сумму $\sum b_{i, j, k} x_k$, т.е. можно запустить банальный алгоритм понижения степени и получить линейное по $x_i$ выражение.

        Таким образом $C$ как $B_0$-модуль конечнопорождён (а $B_0$ нётеров), значит всякий $B_0$-подмодуль в $C$ конечнопорождён, значит $B$ --- конечнопорождённый $B_0$-модуль. Поскольку $B_0 \subseteq B$, то $B$ --- конечнопорождённая $B_0$-алгебра. Следовательно, $B$ --- конечнопорождённая $B_0$-алгебра, а $B_0$ --- конечнопорождённая $A$-алгебра, и тогда $B$ --- конечнопорождённая $A$-алгебра.
    \end{proof}

    \subsection{Алгебраические и чисто трансцендентные расширения полей}

    \begin{definition}
        Пусть есть поле $F$, содержащееся в поле $E$. Элемент $x \in E$ называется \emph{алгебраическим над $F$}, если есть $g \in F[t]$, что $g(x) = 0 \in E$. Иначе $x$ называется \emph{трансцендентным над $F$}.
    \end{definition}

    \begin{lemma}
        Если $x$ алгебраический над $F$, то рассмотрим $F$-подалгебру $F[x]$ в $E$, порождённую $x$, т.е. есть гомоморфизм алгебр $\varphi: F[t] \to E$, порождённый соотношением $\varphi(t) = x$, определяет алгебру $\varphi(F[t])$. Тогда существует неприводимый многочлен $f \in F[t]$, что $f(x) = 0$ и $F[x] = \varphi(F[t]) = F[t]/(f)$.
    \end{lemma}

    \begin{proof}
        $\varphi$ --- гомоморфизм алгебр, а значит гомоморфизм колец, значит $\Ker(\varphi) \subseteq F[t]$ непуст (из-за алгебраичности $x$) и является идеалом. Но всякий идеал в $F[t]$ является главным, следовательно $\Ker(\varphi) = (f(t))$ для некоторого $f \in F[t]$. При этом, так как $E$ поле, $\Ker(\varphi)$ --- простой идеал, т.е. $f(t)$ неприводим. Отсюда получаем искомое.
    \end{proof}

    \begin{corollary}
        Уже $F[x]$ является подполем в $E$.
    \end{corollary}

    \begin{corollary}\label{finitness-of-algebraic-field-corollary}
        $\dim_F F[x] = \deg f(t) < \infty$.
    \end{corollary}

    \begin{corollary}\label{finite-generation-of-F[x]-corollary}
        $F[x]$ порождается как векторное пространство над $F$ элементами (базисом) $1$, $x$, \dots, $x^d$ для некоторого $d \in \NN$.
    \end{corollary}

    \begin{definition}
        Пусть $K \subseteq L$ --- поля. Если $y_1, ..., y_m \in L$ алгебраичны над $K$ и
        \[K \subseteq K[y_1] \subseteq K[y_1][y_2] \subseteq \dots \subseteq K[y_1]\dots[y_m] = L,\]
        то $L$ называется \emph{конечнопорождённым алгебраически порождённым алгебраическим расширением поля $K$}.
    \end{definition}

    \begin{lemma}\label{finite-gerenation-of-finite-algebraic-extension-lemma}
        Если даны поля $K \subseteq L$, что $L$ --- конечнопорождённое алгебраическое расширение $K$, то $\dim_K L < \infty$.
    \end{lemma}

    \begin{proof}
        Если $m = 1$, то утверждение превращается в следствие \ref{finitness-of-algebraic-field-corollary}.

        По следствию \ref{finite-generation-of-F[x]-corollary} $1$, \dots, $y_2^{d_2}$ порождают $K[y_1][y_2]$ как векторное пространство над $K[y_1]$. При этом $K[y_1]$ порождается $1$, \dots, $y_1^{d_1}$ как векторное пространство над $K$. Следовательно, все элементы вида $y_1^{\alpha_1} y_2^{\alpha_2}$, $\alpha_1 \in \{0; \dots; d_1\}$, $\alpha_2 \in \{0; \dots; d_2\}$, порождают $K[y_1][y_2]$ как векторное пространство над $K$. Следовательно
        \[\dim_K K[y_1][y_2] = \dim_K K[y_1] \cdot \dim_{K[y_1]} K[y_1][y_2] < \infty.\]
    \end{proof}

    \begin{exercise}
        Верно и обратное: если $\dim_K L < \infty$, то $L$ --- конечнопорождённое алгебраическое расширение поля $K$.
    \end{exercise}

    \begin{definition}
        Пусть даны поля $F \subseteq E$ и $x \in E$, трансцендентный в $F$. Тогда
        \[F(x) := \{\frac{f(x)}{g(x)} \mid f, g \in F[t], g(t) \neq 0\}.\]
    \end{definition}

    \begin{lemma}
        \begin{enumerate}
            \item $F(x)$ корректно определено.
            \item $F(x)$ --- поле.
        \end{enumerate}
    \end{lemma}

    \begin{proof}
        \begin{enumerate}
            \item Если $g(x) = 0$, то $x$ алгебраично. Значит $f(x)/g(x)$ определено.
            \item Операции наследуются от поля. Несложно видеть, что $F(x)$ относительно них замкнуто.
        \end{enumerate}
    \end{proof}

    \begin{lemma}
        $F(x) \cong F(t)$ как поля, где $F(t)$ --- поле рациональных функций.
    \end{lemma}

    \begin{proof}
        Построим понятный гомоморфизм полей
        \[\varphi: F(t) \to F(x), f/g \mapsto f(x)/g(x).\]
        По построению $\varphi$ сюръективен. $\Ker(\varphi)$ --- идеал в поле, т.е. либо $(0)$, либо всё $F(t)$. Но $\varphi$ сохраняет $F$, значит $\Ker(\varphi) = 0$, т.е. $\varphi$ инъективен. Итого $\varphi$ --- изоморфизм.
    \end{proof}

    \begin{lemma}
        Пусть $x$ трансцендентно. Тогда $1$, $x$, $x^2$, \dots линейно независимы.
    \end{lemma}

    \begin{proof}
        В противном случае это означает, что есть некоторое $n \in \NN$ и $a_0, \dots, a_n \in F$, что
        \[\sum_{k=0}^n a_k x^k = 0.\]
        Тогда $f(x) = 0$, где
        \[f(t) := \sum_{k=0}^n a_k t^k.\]
        Это противоречит с трансцендентностью $x$.
    \end{proof}

    \begin{lemma}
        Пусть даны поле $L$ и независимая переменная $t$. Тогда
        \[L(t) := \{\frac{f(t)}{g(t)} \mid f(t), g(t) \in L[t], g(t) \neq 0\}\]
        не является конечнопорождённой $L$-алгеброй.
    \end{lemma}

    \begin{proof}
        Предположим противное. Пусть $L(t) = L[y_1, \dots, y_s]$ --- конечнопорождённая $L$-алгебра, где $y_i = \frac{f_i(t)}{g_i(t)}$. Тогда есть гомоморфизм
        \[\varphi: L[T_1, \dots, T_s] \to L(t), T_i \mapsto y_i.\]
        Понятно, что
        \[L[y_1, \dots, y_s] = \varphi(L[T_1, \dots, T_s]).\]

        Тогда рассмотрим $h(t)$ --- неприводимый делитель значения
        \[1 - \prod_{i=1}^s q_i(t).\]
        Поскольку $L = L[y_1, \dots, y_s]$, то $1/h(t) \in L[y_1, \dots, y_s]$, то есть $G(T_1, \dots, T_s) \in L[T_1, \dots, T_s]$, что $G(y_1, \dots, y_s) = \frac{1}{h(t)}$. Понятно, что есть некоторое $N \in \NN$, что
        \[G(y_1, \dots, y_s) = \frac{F(t)}{(\prod q_i(t))^N}.\]
        Тогда
        \[\left(\prod q_i(t)\right)^N = h(t) F(t).\]

        Вспомним, что
        \begin{gather*}
            \prod g_i(t) - 1 = h(t) \cdot h_1(t) \quad \Longrightarrow \quad \prod g_i(t) \equiv 1 \pmod{h(t)} \quad \Longrightarrow \quad \left(\prod g_i(t)\right)^N \equiv 1 \pmod{h(t)},\\
            \left(\prod g_i(t)\right)^N = h(t) F(t) \quad \Longrightarrow \quad \left(\prod g_i(t)\right)^N \equiv 0 \pmod{h(t)},
        \end{gather*}
        т.е. $0 \equiv 1 \pmod{h(t)}$.
    \end{proof}

    \begin{lemma}
        Пусть $F \subseteq E$ --- поля, и $E = F[x_1, \dots, x_n]$ конечнопорождёно как $F$-алгебра. Тогда $[x_1, \dots, x_n]$ алгебраичны над $F$ и $\dim_F E < \infty$.
    \end{lemma}

    \begin{proof}
        Среди $x_1$, \dots, $x_n$ может оказаться элемент трансцендентный над $F$, WLOG $x_1$. Получим
        \[F \subseteq F(x_1) \subseteq E.\]
        Среди оставшихся может оказаться элемент, трансцендентный над $F(x_1)$, WLOG $x_2$. Получим
        \[F \subseteq F(x_1) \subseteq F(x_1)(x_2) \subseteq E.\]
        Будем повторять данную операцию до конца. Таким образом выделим $x_1$, \dots, $x_r$, получим
        \[F \subseteq F(x_1) \subseteq F(x_1)(x_2) \subseteq \dots \subseteq \underbrace{F(x_1)\dots(x_r)}_{K} \subseteq E,\]
        что все $x_{r+1}$, \dots, $x_n$ алгебраичны над $K$. Тогда $E$ как векторное пространство над $K$ конечномерно (лемма \ref{finite-gerenation-of-finite-algebraic-extension-lemma}).
        
        Тогда имеем, что
        \[F \subseteq K \subseteq E,\]
        где $E$ --- конечнопорождённый $K$-модуль и конечнопорождённая $F$-алгебра. Следовательно, по лемме \ref{horrible-lemma} $K$ --- конечнопорождённая $F$-алгебра.

        Пусть $r \neq 0$. Пусть $L = F(x_1)\dots(x_{r-1})$. Тогда $L(x_r) = K$, где $x_r \in K$ трансцендентен над $L$. Следовательно, $L(x_r) \cong L(t)$, т.е. $K = L(x_r)$ --- не конечнопорожденная $L$-алгебра, и тем более не конечнопорождённая $F$-алгебра. Противоречие.
    \end{proof}

    \begin{corollary}
        Пусть $F \to A$ --- конечнопорождённая $F$-алгебра, а $\mathcal{M}$ --- максимальный идеал $A$. Тогда $F \hookrightarrow A/\mathcal{M}$ --- конечное алгебраическое расширение поля.
    \end{corollary}

    \begin{proof}
        \todo[inline]{Дописать?}
    \end{proof}

    \begin{corollary}
        Пусть $F$ --- алгебраически замкнутое поле, а $F \to A$ --- конечнопорождённая $F$-алгебра. Тогда $F \to A/\mathcal{M}$ --- изоморфизм.
    \end{corollary}

    \begin{proof}
        $A/\mathcal{M}$ --- конечное алгебраическое расширение поля $F$, т.е. совпадает с $F$.
    \end{proof}

    \begin{exercise}
        Пусть $R$ --- кольцо, $I \subseteq J \subseteq R$ --- два иделала в $R$. Тогда TFAE.
        \begin{enumerate}
            \item $I = J$.
            \item $\overline{\varphi}: R/I \to R/J, r \mathbin{\mod} I \mapsto r \mathbin{\mod} J$ --- изоморфизм колец.
        \end{enumerate}
    \end{exercise}

    \begin{proof}
        Если $I = J$, то очевидно что $r \mathbin{\mod} I = r \mathbin{\mod} J$, а $R/I = R/J$, а тогда $\overline{\varphi}$, являясь тождественным отображением, является изоморфизмом колец.

        Пусть $\overline{\varphi}$ --- изоморфизм колец. Рассмотрим вложения $\pi_I: R \to R/I, r \mapsto r \mathbin{\mod} I$ и $\pi_J: R \to R/J, r \mapsto r \mathbin{\mod} J$. Следовательно, имеем коммутативность диаграммы
        \[
            \xymatrix{
                & R \ar[dl]_{p_I} \ar[dr]^{p_J} &\\
                R/I \ar[rr]^{\sim}_{\overline{\varphi}} && R/J
            }
        \]
        Следовательно,
        \[
            r \in I
            \quad \Leftrightarrow \quad
            r \in \Ker(p_I)
            \quad \Leftrightarrow \quad
            p_I(r) = 0
            \quad \Leftrightarrow \quad
            p_J(r) = 0
            \quad \Leftrightarrow \quad
            r \in \Ker(p_J)
            \quad \Leftrightarrow \quad
            r \in J,
        \]
        т.е. $I=J$.
    \end{proof}

    \begin{exercise}
        Пусть $\mathcal{M} \subseteq R$ --- идеал. Тогда TFAE.
        \begin{enumerate}
            \item $\mathcal{M}$ максимален.
            \item $R/\mathcal{M}$ --- поле.
        \end{enumerate}
    \end{exercise}

    \begin{theorem}[Гильберта о нулях (слабая), Nullstellensatz]
        Пусть $K$ --- алгебраически замкнутое поле (например, $\CC$), $\mathcal{M} \subseteq K[t_1, \dots, t_n]$ --- максимальный идеал. Тогда $\mathcal{M} = (t_1-x_1, \dots, t_n-x_n)$, где $x_i \in F$.
    \end{theorem}

    \begin{proof}
        Зафиксируем некоторые значения $x_1, \dots, x_n \in K$ и рассмотрим идеал $I := (t_1 - x_1, \dots, t_n - x_n)$. Также рассмотрим следующие гомоморфизмы:
        \begin{gather*}
            in: K \to K[t_1, \dots, t_n], r \mapsto r,\\
            \pi_\mathcal{M}: K[t_1, \dots, t_n] \to K[t_1, \dots, t_n]/\mathcal{M}, r \mapsto r \mathbin{\mod} \mathcal{M}, \qquad i_\mathcal{M} := \pi_\mathcal{M} \circ in,\\
            \pi_I: K[t_1, \dots, t_n] \to K[t_1, \dots, t_n]/I, r \mapsto r \mathbin{\mod} I, \qquad i_I := \pi_I \circ in.
        \end{gather*}
        \[
            \xymatrix{
                && K[t_1, \dots, t_n]/\mathcal{M} \ar@{-->}[dd]^\varphi\\
                K \ar[r]|(0.3){in} \ar@(ur, l)[rru]^(0.4){i_\mathcal{M}}_(0.4){\sim} \ar@(dr, l)[rrd]_(0.4){i_I}^(0.4){\sim} & K[t_1, \dots, t_n] \ar[ur]_{\pi_\mathcal{M}} \ar[dr]^{\pi_I}\\
                && K[t_1, \dots, t_n]/I &
            }
        \]
        Заметим, что $i_\mathcal{M}$ --- изоморфизм колец, так как $\mathcal{M}$ максимален. При этом для всякого многочлена $F \in K[t_1, \dots, t_n]$ по теореме Безу $F(t_1, \dots, t_n) \equiv F(x_1, \dots, x_n) \pmod{I}$, а значит $i_I$ инъективен, так как $K$ поле, и сюръективен, так как $[F]_I = [F(x_1, \dots, x_n)]_I = i_I(F(x_1, \dots, x_n))$. Следовательно $i_I$ тоже изоморфизм колец. Следовательно есть изоморфизм колец $\varphi = i_\mathcal{M}^{-1} \circ i_I$, т.е. для всякого $r \in K$
        \[\varphi(r \mathbin{\mod} \mathcal{M}) = r \mathbin{\mod} I.\]
        Осталось показать, что $\varphi \circ \pi_\mathcal{M} = \pi_I$, т.е. для всякого $F \in K[t_1, \dots, t_n]$ $\varphi: F \mathbin{\mod} \mathcal{M} \mapsto F \mathbin{\mod} I$.

        На деле для случайных $x_1$, \dots, $x_n$ это не верно. Поэтому возьмём $x_k := i_\mathcal{M}^{-1}(t_k \mathbin{\mod} \mathcal{M})$, т.е. чтобы $t_k - x_k \in \mathcal{M}$. Тогда получим, что
        \[\varphi(t_k \mathbin{\mod} \mathcal{M}) = \varphi(x_k \mathbin{\mod} \mathcal{M}) = x_k \mathbin{\mod} I = t_k \mathbin{\mod} I.\]
        Поскольку $\varphi$ --- гомоморфизм колец, а всякий многочлен представляется в виду суммы произведений элементов $K$ и $t_1$, \dots, $t_n$, то теперь это верно для всех многочленов. Значит $\mathcal{M} = I$.

        % Рассмотрим рассмотрим последовательность отображений
        % \[
        %     \xymatrix{
        %         & K[t_1, \dots, t_n] \ar[rd]^{\varphi}&\\
        %         K \ar[ur] \ar[rr]_(0.4){\sim}&& K[t_1, \dots, t_n]/\mathcal{M}
        %     }
        % \]
        % где $\varphi: \mathcal{M} \mapsto 0$. Поскольку $\mathcal{M}$ максимален, $K[t_1, \dots, t_n]/\mathcal{M}$ --- поле, т.е. $K$. Тогда $x_i := \varphi(t_i)$. Значит $\varphi(t_i - x_i) = 0$, т.е. $t_i - x_i \in \Ker(\varphi) = \mathcal{M}$. Таким образом
        % \[(t_1 - x_1, \dots, t_n - x_n) \subseteq \mathcal{M}.\]
        % Обозначим $R = K[t_1, \dots, t_n]$. При этом по определению
        % \[(t_1 - x_1, \dots, t_n - x_n) = (t_1 - x_1) \cdot R + \dots + (t_n - x_n) \cdot R.\]
        % Следовательно остлось показать, что
        % \[\mathcal{M} \subseteq (t_1 - x_1) \cdot R + \dots + (t_n - x_n) \cdot R.\]

        % Рассмотрим гомоморфизм колец $\psi: K \to K[t_1 - x_1, \dots, t_n - x_n]/(t_1 - x_1, \dots, t_n - x_n)$. Покажем, что это изоморфизм колец. Поскольку $K$ --- поле, $\psi$ инъективен. Рассмотрим любой $F \in K[t_1 - x_1, \dots, t_n - x_n]$. Тогда его можно разложить по степеням: $F = F_0 + \dots + F_d$ ($\deg(F_k) = k$). Тогда
        % \[F \equiv F_0 \pmod{(t_1 - x_1, \dots, t_n - x_n)}.\]
        % Значит $[F] = [F_0] = \psi(F_0)$. Т.е. $\psi$ сюръективен. Вот $\psi$ и изоморфизм колец (а следовательно).

        % Значит у нас есть изоморфизмы колец из $K$ в $K[t_1-x_1, \dots, t_n-x_n]/\mathcal{M}$ и $K[t_1-x_1, \dots, t_n-x_n]/(t_1-x_1, \dots, t_n-x_n)$. Таким образом их ядра совпали (упражнение выше), т.е. $(t_1-x_1,\dots,t_n-x_n) = \mathcal{M}$.
    \end{proof}
    
    \begin{remark*}
        Глава I. \S 1. Замкнутые подмножества $A_k^n$.
        \todo[inline]{Обозначить это по-нормальному.}
    \end{remark*}

    \begin{definition}
        Пусть фиксировано поле $k$. \emph{Аффинное пространство} над полем $k$ размерности $n$ --- есть пространство
        \[\AA^n = \AA_k^n := \{x = (x_1, \dots, x_n) \mid x_i \in k\} = k^n.\]

        Пусть $A := k[T_1, \dots, T_n]$, $f \in A$. Тогда $f$ --- отображение $\AA^n \to k$. Пусть фиксировано $S \subseteq A$. Тогда \emph{множеством общих нулей многочленов из $S$} (также ``общие нули многочленов из $S$'' или ``нули $S$'') --- это множество
        \[Z(S) := \{x \in \AA^n \mid \forall f \in S\; f(x) = 0\}.\]
        Все подмножества $Z(S)$ называются \emph{замкнутыми подмножествами в $\AA^n$} или \emph{аффинными подмножествами в $\AA^n$}.
    \end{definition}

    \begin{example}\ 
        \begin{enumerate}
            \item $\varnothing = Z(\{a\}_{a \in k}) = Z(A)$.
            \item $\AA^n = Z(\varnothing) = Z(\{0\})$.
            \item $\{(x_1, \dots, x_n)\} = Z(\{T_1 - x_1, \dots, T_n - x_n\})$.
            \item Замкнутые подмножества в $\AA^1$ --- это $\AA$, $\varnothing$ и любое конечное подмножество.
            \item Если $n = 2$, то $Z(f)$ называется \emph{плоской кривой}.
        \end{enumerate}
    \end{example}

    \begin{definition}
        Пусть $I$ --- некоторый идеал. \emph{Радикал из иделала $I$} --- $\sqrt{I} := \{h \in A \mid \exists N \colon \; h^N \in I\}$.
    \end{definition}

    \begin{lemma}
        $\sqrt{I}$ --- идеал.
    \end{lemma}

    \begin{proof}
        Пусть $h \in \sqrt{I}$. Тогда есть $N$, что $h^N \in I$. Значит для всякого $f \in A$
        \[(hf)^N = h^n f^n \in I A \subseteq I.\]
        Т.е. $hf \in \sqrt{I}$. Значит $hA \subseteq \sqrt{I}$.

        Пусть $h_1, h_2 \in \sqrt{I}$. Тогда есть $N_1$ и $N_2$, что $h_1^{N_1}, h_2^{N_2} \in I$. Тогда
        \[(h_1 + h_2)^{N_1 + N_2} = \sum_{k=0}^{N_1 + N_2} h_1^k h_2^{N_1 + N_2 - k} \binom{N_1 + N_2}{N_1}.\]
        При этом при $k \leqslant N_1$
        \[
            h_2^{N_2} \in I,
            \qquad
            h_1^k h_2^{N_1 - k} \binom{N_1 + N_2}{N_1} \in A,
            \qquad \Longrightarrow \qquad
            h_1^k h_2^{N_1 + N_2 - k} \binom{N_1 + N_2}{N_1} \in I;
        \]
        аналогично для $k \geqslant N_1$.
    \end{proof}

    \begin{lemma}\ 
        \begin{enumerate}
            \item Если $S \subseteq S'$, то $Z(S') \subseteq Z(S')$.
            \item Пусть $I$ --- идеал, порождённый многочленами из $S$. Тогда $Z(I) = Z(S)$.
            \item $Z(\sqrt{I}) = Z(I)$.
            \item Для всякого $S$ есть конечное $S'$, что $Z(S) = Z(S')$.
            \item Пусть есть семейство $\{S_i\}_{i \in I}$. Тогда
                \[Z\left(\bigcup_{i \in I} S_i\right) = \bigcap_{i \in I} Z(S_i).\]
            \item Пусть дано семейство идеалов $\{I_j\}_{j \in J}$. Тогда
                \[Z\left(\sum_{j \in J} I_j\right) = \bigcap_{j \in J} Z(I_j).\]
            \item Пусть дано семейство $\{S_i\}_{i=1}^n$. $S' := S_1 S_2 \dots S_n = \{f_1 \dots f_n \mid f_1 \in S_1 \wedge \dots \wedge f_n \in S_n\}$. Тогда
                \[Z(S') = \bigcup_{i = 1}^n Z(S_i).\]
            \item Пусть дано семейство идеалов $\{I_j\}_{j=1}^n$. Тогда
                \[Z\left(\bigcap_{j=1}^n I_j\right) = \bigcup_{j=1}^n Z(I_j).\]
        \end{enumerate}
    \end{lemma}

    \begin{proof}
        \begin{enumerate}
            \item Действительно, для всякой точки $x \in Z(S')$ верно, что для всякого $f \in S'$ $f(x) = 0$, а значит то же верно для всякого $f \in S$ (так как $S \subseteq S'$), т.е. $x \in Z(S)$.

            \item Поскольку $S \subseteq I$, то $Z(I) \subseteq Z(S)$. При этом для всякого $x \in Z(S)$ верно, что для всякого $f \in S$ $f(x) = 0$, а значит то же верно для всех $f \in I$ (так как $I$ --- идеал, порождённый $S$), т.е. $x \in Z(I)$. Т.е. $Z(S) \subseteq Z(I)$. Следовательно, $Z(S) = Z(I)$.

            \item Поскольку $I \subseteq \sqrt{I}$, то $Z(\sqrt{I}) \subseteq Z(I)$. При этом для всякого $x \in Z(I)$ верно, что для всякого $f \in S$ $f(x) = 0$, а значит для всякого $f \in \sqrt{I}$ есть $N$, что $f^N(x) = 0$, а тогда $f(x) = 0$, т.е. $x \in Z(\sqrt{I})$. Т.е. $Z(I) \subseteq Z(\sqrt{I})$. Следовательно, $Z(\sqrt{I}) = Z(I)$.

            \item Если известно, что $S$ и $S'$ порождают одинаковые идеалы, то $Z(S) = Z(S')$. Но всякий идеал в $k[T_1, \dots, T_n]$ конечнопорождён, а значит у идеала, порождённого $S$, есть конечное порождающее множество $S'$ --- искомое $S'$.

            \item Заметим, что $x \in Z(\bigcup_{i \in I} S_i)$ тогда и только тогда, когда на $x$ зануляются все многочлены из $\bigcup_{i \in I} S_i$, что равносильно тому, что на $x$ зануляются все многочлены из каждого $S_i$, что равносильно тому, что $x$ лежит в каждом $Z(S_i)$, что равносильно тому, что $x \in \bigcap_{i \in I} Z(S_i)$. Отсюда следует требуемое.

            \item По прошлому пункту.
                \[Z\left(\bigcup_{j \in J} I_j\right) = \bigcap_{j \in J} Z(I_j).\]
                Но также несложно видеть, что идеал, порождённый $\bigcup_{j \in J} I_j$, есть $\sum_{j \in J} I_j$. Отсюда сиюминутно следует искомое (по ранее доказанному пункту).

            \item Покажем утверждение для $n = 2$. Заметим, что если $x \in Z(S_1)$, то на $x$ зануляются все многочлены из $S_1$, а значит и из $S_1 \cdot S_2$, т.е. $x \in Z(S_1 S_2)$. Следовательно $Z(S_1) \subseteq Z(S_1 S_2)$. Из аналогичного утверждения получаем, что $Z(S_1) \cup Z(S_2) \subseteq Z(S_1 S_2)$. При этом если $x \in Z(S_1 S_2) \setminus Z(S_1)$, то есть многочлен $f \in S_1$, что $f(x) \neq 0$. Но для всякого $g \in S_2$ верно $fg \in S_1 S_2$, а значит $f(x)g(x) = 0$, а тогда $g(x) = 0$, т.е. $x \in Z(S_2)$. Итого $Z(S_1 S_2) = Z(S_1) \cup Z(S_2)$. Утверждение для всякого $n$ получается по индукции с помощью данного.

            \item Покажем для $n=2$; общий случай получается по индукции. Пусть даны идеалы $I$ и $J$. Имеем по прошлому пункту
                \[Z(I \cdot J) = Z(I) \cup Z(J).\]
                При этом $I \cdot J \subseteq I \cap J$, а $I \cap J \subseteq I$, $I \cap J \subseteq J$. Следовательно
                $Z(I \cdot J) \supseteq Z(I \cap J)$, $Z(I \cap J) \supseteq Z(I)$, $Z(I \cap J) \supseteq Z(J)$. Итого
                \[Z(I \cdot J) \supseteq Z(I \cap J) \supseteq Z(I) \cup Z(J),\]
                откуда
                \[Z(I \cdot J) = Z(I \cap J) = Z(I) \cup Z(J).\]
        \end{enumerate}
    \end{proof}

    \begin{corollary}
        Мораль такова.
        \begin{enumerate}
            \item Замкнутые идеалы образуют топологию, где они являются замкнутыми. Т.е. их дополнения образуют топологию (являясь открытыми).
            \item Каждое замкнутое подмножество имеет вид $Z(I)$, где $I$ --- идеал.
            \item Сумма идеалов соответствует пересечению замкнутых множеств (и наоборот). Т.е. для всякого семейства идеалов $\{I_j\}_{j \in J}$ верно, что
                \[\bigcap_{j \in J} Z(I_j) = Z\left(\sum_{j \in J} I_j\right).\]
            \item Конечные пересечения идеалов соответствуют конечным объединениям замкнутых множеств. Т.е. для всякого семейства идеалов $\{I_j\}_{j=1}^n$ верно, что
                \[\bigcup_{j=1}^n Z(I_j) = Z\left(\bigcap_{j=1}^n I_j\right).\]
        \end{enumerate}
    \end{corollary}
    
    \begin{definition}
        Идеал $I$ называется \emph{радикальным} тогда и только тогда, когда для всякого $g \in A$, что есть $m \geqslant 1$, что $g^m \in I$ верно, что $g \in I$.
    \end{definition}

    \begin{lemma}\ 
        \begin{enumerate}
            \item Идеал $I$ радикален тогда и только тогда, когда $\sqrt{I} \subseteq I$.
            \item $\sqrt{I}$ радикален.
            \item Пусть $X$ --- подмножество $A$. Тогда множество
                \[I(X) := \{f \in A \mid \forall x \in X\; f(x) = 0\}\]
                будет радикальным идеалом.
            \item Пусть даны подмножества $X$ и $Y$ пространства $\AA_k^n$, что $X \subseteq Y$. Тогда $I(X) \supseteq I(Y)$.
            \item Если $X \subseteq Y$, то $ZI(X) \subseteq ZI(Y)$.
            \item Для всякого подмножества $X$ $ZI(X) \supseteq X$.
            \item Для всякого подмножества $S$ $IZ(S) \supseteq S$.
            \item Если $X$ замкнуто, то $ZI(X) = X$.
            \item $ZI(X) = \overline{X}$ ($\overline{X}$ --- замыкание $X$ в смысле рассмотренной топологии).
            \item $IZ(S) = \sqrt{I_S}$. 
        \end{enumerate}
    \end{lemma}

    \begin{proof}
        \begin{enumerate}
            \item Определение по-другому написанное.
            \item Несложно видеть, что $\sqrt{\sqrt{I}} = \sqrt{I}$ по определению радикала. Значит $\sqrt{\sqrt{I}} \subseteq \sqrt{I}$, т.е. $\sqrt{I}$ радикален.
            \item $I(X)$ --- максимальный идеал, что $X \subseteq Z(I(X))$. При этом $Z(\sqrt{I(X)}) = Z(I(X))$, значит $\sqrt{I} \subseteq I$. Таким образом $I$ максимален.
            \item Если $f \in I(Y)$, то $f(Y) = 0$, значит $f(X) = 0$, тогда $f \in I(X)$.
            \item $X \subseteq Y \Rightarrow I(X) \supseteq I(Y) \Rightarrow ZI(X) \subseteq ZI(Y)$.
            \item Поскольку $I(X)$ --- множество всех многочленов, зануляющихся на $X$, то всё $I(X)$ зануляется на $X$, т.е. $ZI(X) \supseteq X$. 
            \item Поскольку $Z(S)$ --- множество всех точек, на которых зануляется $S$, то $S$ на нём зануляется, а тогда $IZ(S) \supseteq S$.
            \item \dots
        \end{enumerate}
    \end{proof}

    \begin{theorem}[Гильберта о нулях (сильная)]
        $IZ(S) = \sqrt{I_S}$.
    \end{theorem}
\end{document}