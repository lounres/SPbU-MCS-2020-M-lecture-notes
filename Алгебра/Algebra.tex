\documentclass[12pt,a4paper]{article}
\usepackage{math-text}
\usepackage[all]{xy}
\CompileMatrices

\title{Алгебра. %\footnote{\textcolor{red}{\bfseries Этот текст содержит критические недочёты (см. с. \pageref{TODO-list}). Вы можете помочь исправить их, написав мне \href{mailto:minaevgleb@yandex.ru}{по почте} (minaevgleb@yandex.ru) или \href{https://vk.com/lounres}{в ВКонтакте} (@lounres).}}
}
\author{В. А. Петров\\lektorium.tv}
\date{}

\DeclareMathOperator{\Img}{Im}
\DeclareMathOperator{\Ker}{Ker}
\DeclareMathOperator{\Frac}{Frac}

% \usepackage{todonotes}
% \setlength{\marginparwidth}{2.5cm}
% \setlength{\textwidth}{470 pt}

\begin{document}
    \maketitle

    Зарождение --- Аль Хорезин, ``Китхаб Альджебр валь мукабалт''. ``Альджебр'' значит ``перенос из одной части уравнения в другую'', а ``мукабалт'' --- ``приведение подобных''.

    Литература:
    \begin{itemize}
        \item Ван дер Варден ``Алгебра''
        \item Лэнг ``Алгебра''
        \item Винберг ``Курс Алгебры''
    \end{itemize}

    \begin{definition}
        Алгебраическая структура --- это множество $M$ + заданные на нём операции + аксиомы на операциях.
    \end{definition}

    \begin{definition}
        Абелева группа --- набор $(M, +: M^2 \to M, 0 \in M)$ с аксиомами:
        \begin{description}
            \item[$A_1$)] $\forall a, b, c \in M: (a + b) + c = a + (b + c)$ --- ассоциативность сложения
            \item[$A_2$)] $\forall a \in M: a + 0 = a = 0 + a$ --- нейтральный по сложению элемент
            \item[$A_3$)] $\forall a, b \in M: a + b = b + a$ --- коммутативность сложения
            \item[$A_4$)] $\forall a \in M: \exists -a: a + (-a) = 0 = (-a) + a$ --- существование противоположного
        \end{description}
    \end{definition}

    \begin{definition} Опишем следующие аксиомы на наборе $(M, +: M^2 \to M, \cdot: M^2 \to M, 0 \in M, 1 \in M)$:
        \begin{description}
            \item[$D$)] $\forall a, b, k \in M: k(a + b) = ka + kb$, $(a + b)k = ak + bk$ --- дистрибутивность
            \item[$M_1$)] $\forall a, b, c \in M: (a \cdot b) \cdot c = a \cdot (b \cdot c)$ --- ассоциативность умножения
            \item[$M_2$)] $\forall a \in M: a \cdot 1 = a = 1 \cdot a$ --- нейтральный по умножению элемент
            \item[$M_3$)] $\forall a, b \in M: a \cdot b = b \cdot a$ --- коммутативность умножения
            \item[$M_4$)] $\forall a \in M \setminus \{0\}: \exists\, a^{-1}: a \cdot a^{-1} = 1 = a^{-1} \cdot a$ --- существование обратного
        \end{description}
        По этим аксиомам определим следующие понятия:
        \begin{description}
            \item[\emph{Кольцо}] --- набор $(M, +, \cdot, 0)$, что верны $A_1$, $A_2$, $A_3$, $A_4$ и $D$.
            \item[\emph{Ассоциативное кольцо}] --- кольцо с $M_1$.
            \item[\emph{Кольцо с единицей}] --- кольцо с $M_2$.
            \item[\emph{Тело}] --- кольцо с $M_1$, $M_2$.
            \item[\emph{Поле}] --- кольцо с $M_1$, $M_2$, $M_3$, $M_4$.
            \item[\emph{Полукольцо}] --- кольцо без $A_4$.
        \end{description}
    \end{definition}

    \begin{example}
        Если взять $\RR^3$, то векторное произведение в нём неассоциативно и антикоммутативно. Но есть
        \begin{lemma*}[Тождество Якоби]
            $u\times (v\times w) + v\times (w\times u) + w\times (u\times v) = 0$
        \end{lemma*}
    \end{example}

    \begin{example}
        Если взять $R^4 = R \times R^3$ и рассмотреть $\cdot: ((a; u); (b; v)) \mapsto (ab-u\cdot v; av + bu + u\times v)$ и $+: ((a; u); (b; v)) \mapsto (a + b, u + v)$, тогда получим $\HH$ --- ассоциативное некоммутативное тело кватернионов. Ассоциативность доказал Гамильтон.
    \end{example}

    \begin{statement}
        $0 \cdot a = 0$
    \end{statement}

    \begin{definition}
        Коммутативное кольцо без делителей нуля называетсся \emph{областью (целостности)}.
    \end{definition}

    \begin{definition}
        Пусть $m\in\NN$. Тогда \emph{множество остатков при делении на $m$} или $\ZZ/m\ZZ$ --- это фактор-множество по отношению эквивалентности $a\sim b \Leftrightarrow (a-b) \mid m$.
    \end{definition}

    \begin{definition}
        \emph{Подкольцо} --- это подмножество кольца, согласованное с его операциями.

        Как следствие ноль и обратимость соглассуются автоматически.
    \end{definition}

    \begin{statement}
        Если $R$ --- подкольцо области целостности $S$, то $R$ --- область целостности.
    \end{statement}

    \begin{definition}
        \emph{Целые Гауссовы числа} или $\ZZ{}[i]$ --- это $\{a + bi \mid a, b \in \ZZ\}$.
    \end{definition}

    \begin{definition}
        Некоторое подмножество $R$ кольца $S$ \emph{замкнуто относительно сложения (умножения)}, если $\forall a, b \in R: a + b \in R$ ($ab \in R$ соответственно).
    \end{definition}

    \begin{remark}
        Замкнутое относительно сложения \textbf{И} умножения подмножество --- подкольцо.
    \end{remark}

    \begin{example}
        Пусть $d$ --- целое, не квадрат. Тогда $\ZZ{}[\sqrt{d}]$ --- область целостности.
    \end{example}

    \section{Теория делимости}

    Пусть $R$ --- область целостности.

    \begin{definition}
        ``$a$ \emph{делит} $b$'' или же $a \mid b$ значит, что $\exists c \in R: b = ac$.
    \end{definition}

    \begin{statement}
        Отношение ``$\mid$'' рефлексивно и транзитивно.
    \end{statement}

    \begin{definition}
        $a$ и $b$ \emph{ассоциативны}, если $a \mid b$ и $b \mid a$. Обозначение: $a \sim b$.
    \end{definition}

    \begin{statement}
        ``$\sim$'' --- отношение эквивалентности.
    \end{statement}

    \begin{statement}
        $a \sim b \Leftrightarrow \exists \text{ обратимый } \varepsilon: a = \varepsilon b$.
    \end{statement}

    \begin{proof}
        Пусть $a \sim b$. Тогда $\exists c, d: ac = b, bd = a$. Тогда $a(1-cd) = a - acd = a - bd = a - a = 0$, значит либо $a = 0$, либо $cd = 1$. В первом случае $b = ac = 0c = 0$, значит можно просто взять $\varepsilon = 1$. Во втором случае, $cd = 1$, значит $c$ и $d$ обратимы, тогда можно взять $\varepsilon = d$. следствие в одну сторону доказано.

        Пусть $a = \varepsilon b$, где $\varepsilon$ обратим. Значит:
        \begin{enumerate}
            \item $b\mid a$;
            \item $\exists \delta: \delta\varepsilon = 1$, значит $\delta a = \delta \varepsilon b = b$, значит $a \mid b$.
        \end{enumerate}
        Таким образом $a \sim b$.
    \end{proof}

    \begin{example}
        В $\ZZ{}[i]$ есть только следующие обратимые элементы: $1$, $-1$, $i$ и $-i$. Поэтому все ассоциативные элементы получаются друг из друга домножением на один из $1$, $-1$, $i$, $-i$ и вместе образуют квадрат (на \href{https://ru.wikipedia.org/wiki/%D0%9A%D0%BE%D0%BC%D0%BF%D0%BB%D0%B5%D0%BA%D1%81%D0%BD%D0%B0%D1%8F_%D0%BF%D0%BB%D0%BE%D1%81%D0%BA%D0%BE%D1%81%D1%82%D1%8C}{комплексной плоскоти}) с центром в нуле.
    \end{example}

    \begin{definition}
        \emph{Главным идеалом} элемента $a$ называется множество $M := \{ak \mid k \in R\} = \{b \mid a \text{ делит } b\}$. Обозначение: $(a)$ или $aR$.
    \end{definition}

    \begin{statement}
        $a \mid b \Leftrightarrow b \in aR \Leftrightarrow bR \subseteq aR$. 
    \end{statement}

    \begin{statement}
        $a \sim b \Leftrightarrow aR = bR$.
    \end{statement}

    \begin{statement}$\forall a \in R$
        \begin{enumerate}
            \item $0 \in aR$
            \item $x \in aR \Rightarrow -x \in aR$
            \item $x, y \in aR \Rightarrow x + y \in aR$
            \item $x \in aR, r \in R \Rightarrow xr \in aR$
        \end{enumerate}
    \end{statement}

    \begin{remark}
        То же верно и в некоммутативном $R$.
    \end{remark}

    \begin{example}
        В поле есть только $0R$ и $1R$.
    \end{example}

    \begin{example}
        В $\ZZ$ есть только $m\ZZ$ для каждого $m \in \NN \cup \{0\}$.
    \end{example}

    \begin{definition}
        Пусть $P$ --- кольцо. $I\subseteq P$ называется \emph{правым идеалом}, если
        \begin{enumerate}
            \item $0 \in I$;
            \item $a, b \in I \Rightarrow a + b \in I$;
            \item $a \in I \Rightarrow -a \in I$;
            \item $a \in I, r \in R \Rightarrow ar \in I$.
        \end{enumerate}
        $I$ называется \emph{левым идеалом}, ессли аксиому 4 заменить на ``$a \in I, r \in R \Rightarrow ra \in I$''. Также $I$ называется \emph{двухсторонним идеалом}, если является левым и правым идеалом, и обозначается как $I \triangleleft P$.
    \end{definition}

    \begin{remark}
        В коммутативном кольце (и в частности в области целостности) все идеалы двухсторонние.
    \end{remark}

    \begin{example}
        Пусть дано кольцо $P$ и фиксированы $a_1, \dots, a_n \in P$. Тогда $a_1 P + \dots + a_n P = \{a_1 x_1 + \dots + a_n x_n \mid x_1, \dots, x_n \in P\}$ есть правый (конечнопорождённый) идеал, попрождённый элементами $a_1, \dots, a_n$. Аналогично $P a_1 + \dots + P a_n = \{x_1 a_1 + \dots + x_n a_n \mid x_1, \dots, x_n \in P\}$ --- левый (конечнопорождённый) идеал, попрождённый элементами $a_1, \dots, a_n$.
    \end{example}

    \begin{definition}
        \emph{Область главных идеалов (ОГИ)} --- область целостности, где все идеалы главные.
    \end{definition}

    \begin{definition}
        Область целостности $R$ называется \emph{Евклидовой}, если существует функция (``Евклидова норма'') $N: R\setminus\{0\} \to \NN$, что
        \[\forall a, b \neq 0\; \exists q, r: a = bq + r \wedge (r = 0 \vee N(r) < N(b))\]
    \end{definition}

    \begin{theorem}
        Евклидово кольцо --- область главных идеалов.
    \end{theorem}

    \begin{proof}
        Пусть наше кольцо --- $R$. Если $I = \{0\}$, то $I = 0R$. Иначе возьмём $d \in I \setminus \{0\}$ с минимальной Евклидовой нормой. Тогда $\forall a \in I$ либо $d \mid a$, либо $\exists q, r: a = dq - r$. Во втором случае $dq \in I$, $r = a - dq \in I$, но $N(r) < N(d)$ --- противоречие. Значит $I = dR$.
    \end{proof}

    \begin{definition}
        \emph{Общим делителем} $a$ и $b$ называется $c$, что $c \mid a$ и $c \mid b$. \emph{Наибольшим общим делителем (НОД)} $a$ и $b$ называется общий делитель $a$ и $b$, делящийся на все другие общие делители $a$ и $b$.
    \end{definition}

    \begin{theorem}[алгоритм Евклида]
        В Евклидовом кольце у любых двух чисел есть НОД.
    \end{theorem}

    \begin{proof}
        Заметим, что $(a, b) = (a + bk, b)$.
        
        Пусть даны $a$ и $b$. Предположим, что $\phi(a) \geqslant \phi(b)$, иначе поменяем их местами. Тем самым по аксиоме Евклида найдутся $q$ и $r$, что $a = bq + r$, а $\phi(r) < \phi(b) \leqslant \phi(a)$, значит $\phi(a) + \phi(b) > \phi(r) + \phi(b)$. При этом $(a, b) = (r, b)$. Значит бесконечно $\phi(a) + \phi(b)$ не может бесконечнго уменьшаться, так как натурально, значит за конечное кол-во переходов мы получим, что одно из чисел делит другое, а значит НОД стал определён.
    \end{proof}

    \begin{theorem}[линейное представление НОД]
        $\forall a, b \in R\; \exists p, q \in R: ap + bq = (a, b)$.
    \end{theorem}

    \begin{proof}
        Докажем по индукции по $N(a) + N(b)$.

        \textbf{База.} $N(a) + N(b)=0$. Значит $N(a)=N(b)=0$, а тогда $a$ и $b$ не могут не делиться друг на друга, значит НОД --- любой из них. А в этом случае разложение очевидно.
        
        \textbf{Шаг.} WLOG $N(a) \geqslant N(b)$. Если $b \mid a$, то $b$ --- НОД, а тогда разложение очевидно. Иначе по аксиоме Евклида $\exists q, r: a = bq + r$. Заметим, что $(a, b) = (b, r) = d$, но $N(a) + N(b) \geqslant N(b) + N(b) > N(b) + N(r)$. Таким образом по предположению индукции для $b$ и $r$ получаем, что $d = bk + rl$ для некоторых $k$ и $l$, значит $d = bk + (a - bq)l = al + b(k - ql)$.
    \end{proof}

    \begin{definition}
        Элемент $p$ области целостности $R$ назвыается \emph{неприводимым}, если $\forall d \mid p$ либо $d \sim 1$, либо $d \sim p$.
    \end{definition}
    
    \begin{definition}
        Элемент $p$ области целостности $R$ назвыается \emph{простым}, если из условия $p \mid ab$ следует, что $p \mid a$ или $p \mid b$.
    \end{definition}

    \begin{statement}
        Любое простое неприводимо.
    \end{statement}

    \begin{proof}
        Предположим противное, т.е. некоторое простое $p$ представляется в виде произведения неделителей единицы $a$ и $b$. Тогда WLOG $p \mid a$. Значит $p\sim a$, а $b \sim 1$ --- противоречие.
    \end{proof}

    \begin{statement}
        В области главных идеалов неприводимые просты.
    \end{statement}

    \begin{proof}
        Пусть неприводимое $p$ делит $ab$. Пусть тогда $pR + aR = dR$. В таком случае $d \sim p$, значит либо $d \sim p$, либо $d \sim 1$. Если $d \sim p$, то $p \mid a$. Иначе $px + ay = 1$, значит $pxb + aby = b$. Но $p \mid pxb$ и $p \mid aby$, значит $p \mid b$. Поскольку рассуждение не зависит от $a$ и $b$, то $p$ просто.  
    \end{proof}

    \begin{definition}
        Область целостности $R$ \emph{удовлетворяет условию обрыва возрастающих цепей главных идеалов (APCC)}, если не существует последовательности $d_0 R \subsetneq d_1 R \subsetneq \dots$. Такое кольцо область целостности называют нётеровой.
    \end{definition}

    \begin{theorem}
        ОГИ нётерова.
    \end{theorem}

    \begin{proof}
        Пусть наша область --- $R$. Предположим противное, т.е. существует последовательность $\{a_n\}_{n=0}^\infty$, что $a_{n+1}$ --- собственный делитель $a_n$ (т.е. $a_{n+1} \mid a_n \wedge a_n \nsim a_{n+1}$). Тогда $a_0 R \subsetneq a_1 R \subsetneq a_2 R \subsetneq \dots$. Тогда $\exists x: xR = \bigcup_{n=0}^\infty a_n R$, так как  это объединение --- идеал. Но тогда $x \in a_j R$ для некоторого $j$, а значит $x R \subseteq a_j R$, а тогда $a_{j+1} R \subseteq a_j R$ --- противоречие.
    \end{proof}

    \begin{definition}
        Область целостности называется \emph{факториальной областью}, если в нём все неприводимые просты и оно нётерово.
    \end{definition}

    \begin{example}
        ОГИ факториальна.
    \end{example}

    \begin{theorem}[основная теорема арифметики]
        Пусть $R$ факториально. Тогда любое число представимо единственным образом в виде произведения простых с точностью до перестановки множителей и ассоциированности.
    \end{theorem}

    \begin{proof}
        \begin{thlemma}
            У каждого числа есть неприводимый делитель.
        \end{thlemma}

        \begin{proof}
            Пусть это не так. Тогда есть подъём идеалов: $a_0 = a_1 b_1$, $a_1 = a_2 b_2$ и т.д., значит $a_0 R \subsetneq a_1 R \subsetneq a_2 R \subsetneq \dots$ --- противоречие.
        \end{proof}

        \begin{thlemma}
            Каждое число представимо в виде произведения простых.
        \end{thlemma}

        \begin{proof}
            Пусть это не так. Тогда есть подъём идеалов: $a_0 = p_1 a_1$, где $p_1$ прост, $a_1 = p_2 a_2$, где $p_2$ прост, и т.д., значит $a_0 R \subsetneq a_1 R \subsetneq a_2 R \subsetneq \dots$ --- противоречие.
        \end{proof}

        Это доказывает существование разложения.

        \begin{thlemma}
            Если $p_1 \cdot \dots p_n = q_1 \cdot \dots \cdot q_m$ для простых $p_1$, \dots, $p_n$, $q_1$, \dots, $q_m$, то эти два набора совпадают с точностью до перестановки и ассоциированности.
        \end{thlemma}

        \begin{proof}
            Докажем индукцией по $n$.

            \textbf{База:} Для $n=0$ утверждение очевидно, так как тогда $1 = q_1 \cdot \dots \cdot q_m$, значит $m=0$.

            \textbf{Шаг:} Несложно видеть, что $p_n \mid q_1 \cdot \dots \cdot q_m$, значит $p_n \mid q_i$ для некоторого $i$, значит $p_n \sim q_i$. Переставим $q_k$, что $q'_m = q_i$. Значит $p_1 \cdot \dots \cdot p_{n-1} = q'_1 \cdot \dots \cdot q'_{m-1}$. По предположению индукции эти два набора совпадают с точностью до перестановки и ассоциированности, значит таковы и начальные наборы.
        \end{proof}

        Это доказывает единственность разложения.
    \end{proof}

    \section{Идеалы и морфизмы}

    \begin{theorem}
        Пусть даны $I \triangleleft R$ и $a \sim b \Leftrightarrow a-b \in I$. Тогда $\sim$ --- отношение эквивалентности, а $R/I:=R/\sim$ --- кольцо. 
    \end{theorem}

    \begin{proof}
        Проверим, что $\sim$ --- отношение эквивалентности:
        \begin{itemize}
            \item $a - a = 0 \in I$, значит $a \sim a$;
            \item $a\sim b$, значит $a - b \in I$, значит $b-a = -(a - b) \in I$, значит $a \sim a$;
            \item $a\sim b$, $b\sim c$, значит $a-b \in I$, $b - c \in I$, значит $a-c = (a-b) + (b-c) \in I$, значит $a \sim c$.
        \end{itemize}

        Определим на $R/I$ операции сложения и умножения, нуля, противоположного, единицы и обратного:
        \begin{itemize}
            \item $[a] + [b] := [a + b]$;
            \item $[a] \cdot [b] := [a \cdot b]$;
            \item $0 := [0] = I$;
            \item $-[a] := [-a]$;
            \item $1 := [1]$;
            \item $[a]^{-1} := [a^{-1}]$.
        \end{itemize}
        Покажем, что $R/I$ --- кольцо:
        \begin{description}
            \item[$A_1$)] $\forall a, b, c \in R: ([a] + [b]) + [c] = [a + b] + [c] = [(a + b) + c] = [a + (b + c)] = [a] + [b + c] = [a] + ([b] + [c])$
            \item[$A_2$)] $\forall a \in R: [a] + [0] = [a + 0] = a = [0 + a] = [0] + [a]$
            \item[$A_3$)] $\forall a, b \in R: [a] + [b] = [a + b] = [b + a] = [b] + [a]$
            \item[$A_4$)] $\forall a \in R: [a] + -[a] = [a] + [-a] = [a + (-a)] = [0] = [(-a) + a] = [-a] + [a] = -[a] + [a]$
            \item[$D$)] $\forall a, b, k \in R: [k]([a] + [b]) = [k][a + b] = [k(a + b)] = [ka + kb] = [ka] + [kb] = [k][a] + [k][b]$, $([a] + [b])[k] = [a + b][k] = [(a + b)k] = [ak + bk] = [ak] + [bk] = [a][k] + [b][k]$
            \item[$M_1$)] $\forall a, b, c \in R: ([a] \cdot [b]) \cdot [c] = [a \cdot b] \cdot [c] = [(a \cdot b) \cdot c] = [a \cdot (b \cdot c)] = [a] \cdot [b \cdot c] = [a] \cdot ([b] \cdot [c])$
            \item[$M_2$)] $\forall a \in R: [a] \cdot [1] = [a \cdot 1] = [a] = [1 \cdot a] = [1] \cdot [a]$
            \item[$M_3$)] $\forall a, b \in R: [a] \cdot [b] = [a \cdot b] = [b \cdot a] = [b] \cdot [a]$
            \item[$M_4$)] $\forall a \in R \setminus \{0\}: [a] \cdot [a]^{-1} = [a] \cdot [a^{-1}] = [a \cdot a^{-1}] = [1] = [a^{-1} \cdot a] = [a^{-1}] \cdot [a] = [a]^{-1} \cdot [a]$
        \end{description}
    \end{proof}

    \begin{remark}
        Доказательство для классов эквивалентности каждой аксиомы основывалось только на соответсвующей аксиоме и определениях ранее.
    \end{remark}

    \begin{definition}
        \emph{Гомоморфизм} --- такое отображение $\phi: R \to S$ --- это отображение, сохраняющее операции:
        \begin{itemize}
            \item $\phi(a + b) = \phi(a) + \phi(b)$;
            \item $\phi(a \cdot b) = \phi(a) \cdot \phi(b)$;
            \item $\phi(0) = 0$;
            \item $\phi(-a) = -\phi(a)$.
        \end{itemize}

        \emph{Гомоморфизм кольца с 1} --- гомоморфизм, что $\phi(1) = 1$.
    \end{definition}

    \begin{statement}
        Композиция гомоморфизмов --- гомоморфизм.
    \end{statement}

    \begin{definition}
        Пусть $f: X \to Y$. Несложно видеть, что $f$ раскладывается в композицию сюръекции $f: X \to f(X)$ и инъекции $id: f(X) \to Y$. Тогда $\Img(f) = \{f(x) \mid x \in X\}$ --- \emph{множество значений} $f$, а классы значений $X$, переходящих в один $y\in Y$ суть \emph{слои} --- $f^{-1}(y) = \{x \mid f(x) = y\}$ для некоторого $y$.
        \[
            \xymatrix{
                X \ar@{->>}[rd]^f \ar[rr]^f && Y\\
                & f(X) = \Img(f) \ar@{^{(}->}[ur]^{id}
            }
        \]
    \end{definition}

    \begin{definition}
        Пусть $\phi: R \to S$ --- гомоморфизм. Тогда \emph{ядром} $\phi$ называется $\Ker(\phi) := \{r \in R \mid \phi(r) = 0\}$.
    \end{definition}

    \begin{statement}
        Ядро гомоморфизма --- двусторонний идеал.
    \end{statement}

    \begin{definition}
        $\phi: S \to R$ --- \emph{изоморфизм}, если это биективный гомоморфизм.
    \end{definition}

    \begin{definition}
        Два кольца называются изоморфными, если между ними есть изоморфизм. Обозначение: $R \cong S$.
    \end{definition}

    \begin{statement}
        Пусть $R \cong S$. Тогда
        \begin{itemize}
            \item Если $R$ коммутативно, то и $S$ коммутативно.
            \item Если $R$ --- облассть целостности, то и $S$ --- область целостности.
            \item Если $R$ --- ОГИ, то и $S$ --- ОГИ.
        \end{itemize}
    \end{statement}

    \begin{statement}\ 
        \begin{enumerate}
            \item $R \cong R$.
            \item $R \cong S \Leftrightarrow S \cong R$.
            \item $R \cong S \cong T \Rightarrow R \cong T$.
        \end{enumerate}
    \end{statement}

    \begin{theorem}[теорема о гомоморфизме]
        Пусть $\phi: R \to S$ --- гомоморфизм. (Вспомним, что $\Ker(\phi) \triangleleft R$, а $\Img(\phi) = \phi(R)$.) Тогда $R/\Ker(\phi) \cong \Img(\phi)$, где изоморфизм переводит $[a] \mapsto \phi(a)$.
        \[
            \xymatrix{
                R \ar@{->>}[d]_{r \mapsto [r]} \ar[rr]^\phi && S\\
                R/\Ker(\phi) \ar[rr]^-\sim_-{[r] \mapsto \phi(r)} && \Img(\phi) \ar@{^{(}->}[u]_{id}
            }
        \]
    \end{theorem}

    \begin{proof}\ 
        \begin{enumerate}
            \item Корректность. $[a] = [a'] \Leftrightarrow a - a' \in \Ker(\phi) \Leftrightarrow \phi(a - a') = 0 \Leftrightarrow \phi(a) = \phi(a')$.
                \begin{remark}
                    Классы экввивалентности по $\Ker(\phi)$ как раз слои $\phi$.
                \end{remark}
            \item Заметим, что работают следующие операции:
                \begin{itemize}
                    \item $[a] + [b] = [a + b] \mapsto \phi(a) + \phi(b) = \phi(a + b)$;
                    \item $[a] \cdot [b] = [a \cdot b] \mapsto \phi(a) \cdot \phi(b) = \phi(a \cdot b)$. 
                \end{itemize}
            \item Сюръективность следует из того, что $\phi(a) = \phi(b) \Leftrightarrow [a] = [b]$.
            \item Инъективность следует из того, что каждый элемент в $\Img(\phi)$ имеет прообраз.
        \end{enumerate}
    \end{proof}

    \begin{theorem}[китайская теорема об остатках (КТО) для двух чисел]
        Пусть $m$ и $n$ взаимно просты. Тогда $\ZZ/mn\ZZ \cong \ZZ/m\ZZ \times \ZZ/n\ZZ$.
    \end{theorem}

    \begin{proof}
        Рассмотрим $\phi: \ZZ/mn\ZZ \to \ZZ/m\ZZ \times \ZZ/n\ZZ, [a]_{mn} \mapsto ([a]_m; [a]_n)$. Несложно заметить, что ядро $\phi$ тривиально, поэтому $\ZZ/mn\ZZ \cong \ZZ/mn\ZZ/\Ker(\phi) \cong \Img(\phi)$. Но в последнем элементов не менее $mn$, так как $\Img(\phi) \cong \ZZ/mn\ZZ$, но и не более, так как $|\ZZ/m\ZZ \times \ZZ/n\ZZ| = mn$, поэтому $\Img(\phi) = \ZZ/m\ZZ \times \ZZ/n\ZZ$, поэтому $\ZZ/mn\ZZ \cong \ZZ/m\ZZ \times \ZZ/n\ZZ$.
    \end{proof}

    \begin{theorem}[КТО]
        Пусть $m_1, \dots, m_k$ --- попарно взаимно простые числа. Тогда
        \[\ZZ/m_1\dots m_k \cong \ZZ/m_1\ZZ \times \dots \times \ZZ/m_k\ZZ\]
    \end{theorem}

    \begin{proof}
        По индукции по $k$ с помощью КТО для двух чисел.
    \end{proof}

    \begin{theorem}[Универсальное свойтсво фактор-кольца]
        Пусть есть $I \triangleleft R$ и гомоморфизмы $\pi: R \to R/I$ --- нативный гомоморфизм, и $\pi: R \to S$, что $\pi(I) = \{0\}$. Тогда существует и единственен гомоморфизм $\phi': R/I \to S$, что $\phi' \circ \pi = \phi$.
        \[
            \xymatrix{
                R \ar@{->>}[rd]_{\pi} \ar[rr]^\phi && S\\
                & R/I \ar[ur]_{\phi'}
            }
        \]
    \end{theorem}

    \begin{proof}
        $\phi'([a]) = (\phi' \circ \pi)(a) = \phi(a)$ --- это означает единственность; так функцию и определим. Осталось показать корректность.

        Несложно заметить, что если $[a] = [b]$, то $a - b \in I$, значит $\phi(a - b) = 0$, значит $\phi(a) = \phi(b)$. Теперь проверим операции:
        \begin{itemize}
            \item $\phi'([a] + [b]) = \phi'([a + b]) = \phi(a + b) = \phi(a) + \phi(b) = \phi'([a]) + \phi'([b])$.
            \item $\phi'([a] \cdot [b]) = \phi'([a \cdot b]) = \phi(a \cdot b) = \phi(a) \cdot \phi(b) = \phi'([a]) \cdot \phi'([b])$
        \end{itemize}
    \end{proof}

    \begin{definition}
        Пусть $R$ --- область целостности. Тогда рассмотрим $Q = R \times (R \setminus \{0\})$ и отношение $\sim$ на $Q$, что $(a; b) \sim (c; d) \Leftrightarrow ad = bc$. Несложно видеть, что $\sim$ --- отношение эквивалентности. Тогда \emph{полем частных} области целостности $R$ называется $\Frac(R) = Q/\sim$, где операции:
        \begin{itemize}
            \item $[(a; b)] + [(c; d)] := [(ad + bc; bd)]$;
            \item $[(a; b)] \cdot [(c; d)] := [(ac; bd)]$;
            \item $0 := [(0; 1)]$;
            \item $- [(a; b)] := [(-a; b)]$;
            \item $1 := [(1; 1)]$;
            \item $[(a; b)]^{-1} = [(b; a)]$.
        \end{itemize}
        Несложно видеть, что все операции корректны, а поле частных --- поле.
    \end{definition}

    \begin{remark}
        Есть нативный инъективный гомоморфизм из $R$ в $\Frac(R)$:
        \[\phi: R \to \Frac(R), r \mapsto [(r; 1)]\]
    \end{remark}

    \begin{theorem}[Уникальное свойтсво поля частных]
        Пусть $R$ --- область целостности, $F$ --- поле, $\phi: R \to F$ --- инъективный гомоморфизм, сохраняющий $1$, $\pi: R \to \Frac(R)$ --- нативный гомоморфизм. Тогда существует единственный гомоморфизм $\phi': \Frac(R) \to F$, что $\phi' \circ \pi = \phi$.
        \[
            \xymatrix{
                R \ar@{^{(}->}[rd]_{\pi} \ar@{^{(}->}[rr]^\phi && F\\
                & \Frac(R) \ar[ur]_{\phi'}
            }
        \]
    \end{theorem}

    \begin{remark}
        Если $\phi: E \to F$ --- гомоморфизм полей, сохраняющий $1$, то он инъективен. Действительно, $\Ker(\phi)$ --- идеал, значит ${0}$ или $E$, так как $E$ поле, но случай $E$ не подходит, так как не сохраняется $0$, значит $\Ker(\phi) = {0}$, значит $\phi$ инъективно.
    \end{remark}

    \begin{proof}
        \begin{thlemma}
            $\phi'(1/b) = 1/\phi'(b)$
        \end{thlemma}

        \begin{thlemma}
            $\phi'(a/b) = \phi'(a)/\phi'(b)$.
        \end{thlemma}

        Заметим, что $\phi'(a) = \phi'(\pi(a)) = \phi(a)$, поэтому $\phi'(a/b) = \phi(a)/\phi(b)$ --- это означает единственность $\phi'$.

        Теперь рассмотрим соответсвующую $\phi': a/b \mapsto \phi(a)/\phi(b)$. Проверим корректность:
        \begin{align*}
            \frac{a}{b} &= \frac{c}{d}&
            &\Rightarrow&
            ad &= bc&
            &\Rightarrow&
            \phi(ad) &= \phi(bc)&
            &\Rightarrow\\
            \phi(a)\phi(d) &= \phi(b)\phi(c)&
            &\Rightarrow&
            \frac{\phi(a)}{\phi(b)} &= \frac{\phi(c)}{\phi(d)}&
            &\Rightarrow&
            \phi'\left(\frac{a}{b}\right) &= \phi'\left(\frac{c}{d}\right)
        \end{align*}
        Теперь проверим согласованность с операциями:
        \begin{itemize}
            \item \[\phi'\left(\frac{a}{b}\cdot \frac{c}{d}\right) = \frac{\phi(ac)}{\phi(bd)}=\frac{\phi(a)}{\phi(b)}\cdot\frac{\phi(c)}{\phi(d)}=\phi'\left(\frac{a}{b}\right)\cdot\phi'\left(\frac{c}{d}\right);\]
            \item
                \begin{multline*}
                    \phi'\left(\frac{a}{b} + \frac{c}{d}\right) = \phi'\left(\frac{ad + bc}{bd}\right) = \frac{\phi(ad + bc)}{\phi(bd)} = \\
                    \frac{\phi(a)\phi(d) + \phi(b)\phi(c)}{\phi(b)\phi(d)} = \frac{\phi(a)}{\phi(b)} + \frac{\phi(c)}{\phi(d)} = \phi'\left(\frac{a}{b}\right) + \phi'\left(\frac{c}{d}\right)
                \end{multline*}
        \end{itemize}
        
    \end{proof}

    % \pagebreak

    % \listoftodos\label{TODO-list}
\end{document}